# SPDX-FileCopyrightText: 2023 Springtime authors
#
# SPDX-License-Identifier: Apache-2.0

datasets:
  npn_obs:
    dataset: RNPN
    species_ids:
      functional_type: "Deciduous broadleaf" # multiple species
    phenophase_ids:
        name: breaking leaf buds
    years: [2018, 2020]
    area:
      name: WashingtonDC
      bbox:
        [
          -77.9,38.2,-76.1,39.4
        ]
  daymet:
    dataset: daymet_multiple_points
    points:
      source: npn_obs
    years: [2018, 2020] # TODO don't duplicate
    variables:
      - tmin
      - tmax
    resample:
      frequency: month
      operator: median
experiment:
  experiment_type: regression  # --> pycaret.regression.RegressionExperiment
  setup:
    target: "breaking leaf buds_doy"
    train_size: 0.75
    preprocess: false
    normalize: true
    normalize_method: zscore  # i.e. default
    fold_strategy: kfold  # i.e. default
    fold: 10
    fold_shuffle: true
    session_id: 123  # control randomness for reproducibility
    index: False # Exclude year and geomentry columns

  compare_models:
    include:
      - 'lr'  # linear regression
      - 'rf'  # random forest regressor
    cross_validation: true
    n_select: 2

  plots:
    - error
    - residuals
